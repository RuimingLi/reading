### Chapter 3 机器的程序级表示

#### 1.机器级代码

对机器级编程来说，有两种重要的抽象:

1. 由指令集体系结构或指令集结构（ISA）来定义机器级程序的格式和行为，它定义了处理器状态、指令的格式，以及每条指令对状态的影响。

2. 机器级程序使用的内存地址是虚拟地址，提供的内存模型看上去是一个非常大的字节数组。

汇编代码表示非常接近于机器代码。与机器代码的二进制格式相比，汇编代码的主要特点是它用可读性更好的文本格式表示。

x86-64 的机器中一些通常对 C 语言程序员隐藏的处理器状态：

- 程序计数器：通常称 “PC”，在 x86-64 中用 %rip 表示给出将要执行的下一条指令在内存中的地址。
- 整数寄存器文件：包含 16 个命名的位置，分别存储 64 位的值。这些寄存器可以存储地址或整数数据。
- 条件码寄存器：保存着最近执行的算术或逻辑指令的状态信息。
- 一组向量寄存器：可以存放一个或多个整数或浮点数值。

程序内存包含：程序的可执行机器代码，操作系统需要的一些信息，用来管理过程调用和返回的运行时栈，以及用户分配的内存块。

程序内存用虚拟地址来寻址，操作系统负责管理虚拟地址空间，将虚拟地址翻译成实际处理器内存中的物理地址。

#### 2.访问信息

 一个X86-64的中央处理单元包含一组16个存储64位值得通用目的寄存器。这些寄存器用来存储整数数据和指针。这些寄存器名字都以%r开头。

#### 3.汇编指令

数据传送指令-MOV指令，这些指令把数据从原位置复制到目的位值，不作任何变化。MOV类由四条指令组成：movb(移动字节)、movw(移动字)、movl(移动双字)、movq(移动4字)。