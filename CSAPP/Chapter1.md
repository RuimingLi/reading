### 第一章 计算机系统漫游

计算机系统是由硬件和系统软件组成，他们共同工作来运行应用程序。

**信息就是位 + 上下文**

#### 程序如何运行的

![编译过程](https://raw.githubusercontent.com/RuimingLi/reading/master/images/CSAPP/CSAPP-1.3.png)

#### 系统的硬件组成：

![硬件组成](https://raw.githubusercontent.com/RuimingLi/reading/master/images/CSAPP/CSAPP-1.4.png)

一个典型系统的硬件组成有：总线、I/O设备、主存、处理器。

1. 总线：是贯穿整个系统的一组电子管道，负责携带信息字节并在各个部件之间传递。

- - 通常，总线被设计为传送定长的字节块，也就是字（word）。

- - - 字中的字节数（即字长）是一个基本的系统参数，各个系统不尽相同。现在大多数系统要么是4字节，要么是8字节。

2. I/O设备：系统与外部世界的联系通道，比如鼠标、键盘、显示器、磁盘等等都属于I/O设备。

- - 每个I/O设备都通过一个控制器或适配器与I/O总线相连

- - - 控制器和适配器封装方式不太一样，但是它们的功能都是在I/O总线和I/O设备之间传递信息！

3. 主存：在处理器处理执行程序的时候，用来存放程序和程序处理的数据。

4. CPU：解释或执行存储在主存中指令的引擎

- - CPU的核心是一个大小为一个字的存储设备（或寄存器），称为程序计数器（PC）。

- - - 无论何时，PC都指向主存中的某条机器语言指令（即含有该条指令的地址）。
    - 处理器一直在不断地执行PC指向的指令，再更新PC，使其指向下一条指令。

- - 相关的几个操作：

- - - 加载：从主存复制一个字节或一个字到寄存器
    - 存储：宗寄存器复制一个字节或一个字到主存的某个位置
    - 操作：把两个寄存器的内容复制到ALU（算术/逻辑单元），ALU对这两个字做算术运算，并将结果放到一个寄存器中，覆盖该寄存器中原来的内容。
    - 跳转：从指令本身抽取一个字，并复制到PC中，以覆盖PC中原来的值。

#### 存储设备

![存储器层次模型](https://raw.githubusercontent.com/RuimingLi/reading/master/images/CSAPP/CSAPP-1.9.png)



#### 操作系统管理硬件

![](https://raw.githubusercontent.com/RuimingLi/reading/master/images/CSAPP/CSAPP-1.10.png)

![](https://raw.githubusercontent.com/RuimingLi/reading/master/images/CSAPP/CSAPP-1.11.png)

操作系统通过进程、虚拟内存和文件三个抽象概念来实现两个基本功能：

1. 防止硬件被失控的应用程序滥用

2. 向应用程序提供简单一致的机制来控制复杂又通常大不相同的硬件设备

* 进程是对处理器、主存和I/O设备的抽象表示

* 虚拟内存是对主存和磁盘I/O设备的抽象表示

* 文件是对I/O设备的抽象表示



**线程**： 线程是运行在进程的上下文中的执行单元

**文件**：文件就是字节序列。每个 I/O 设备，甚至网络都可以看成是文件

**并发** ：多核处理器将多个 CPU 集成到一个集成电路芯片上。

**超线程**：称为同时多线程，允许一个CPU同时执行多个并发流的技术