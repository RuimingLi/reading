### Chapter 6 存储器层次结构

存储器系统是一个具有不同容量，成本和访问时间的存储设备的层次结构。越靠近cpu的存储器越快，越小，成本越高，越底层的存储结构越慢，存储的字节越多，成本也越低。

**1. 随机访问存储器**

随机访问存储器（RAM）分为两类：静态的（SRAM）和（动态的）DRAM

1. 静态RAM

   SRAM将每个位存储在一个双稳态的存储单元里，双稳态就是只有两个状态，要么是这个状态，要么是哪个状态。要有电，它可以无限期的保持在两个不同的状态之一，其他任何状态都是不稳定的，如果在不稳定状态，电路会迅速转移到两个稳态中的一个。

2. 动态RAM

   DRAM将每个位存储为对一个电容的充电。DRAM存储器可以制造的非常密集。DRAM存储器单元对干扰非常敏感，电容的电压一旦被改变，就永远不会恢复了。很多原因会导致漏电，是的DRAM在10-100毫秒内内失去电荷，但计算机运行的时钟周期是以纳秒来衡量的，所以这个时间相对而言还是比较长的。内存系统必须周期性的读出然后重写来刷新内存的每一位。

3. 传统的DRAM

   DRAM芯片中的单元（位）被划分成位数相等的块，称为超单元。每个超单元包含w个位，那一个d个超单元的DRAM一共能存储d×w位的信息。所有的超单元被组织成一个矩阵，有r行c列，r×c=d。

   每个超单元的行和列就是他们在芯片中的地址，信息通过芯片上的引脚流入和流出芯片，每个引脚可以携带1位信号。有地址引脚，数据引脚等。每个DRAM芯片被连接到某个称为内存控制器的电路，这个电路可以一次向每个DRAM传动w位或一次从DRAM中读出w位，就是一次操作一个超单元中的内容。

4. 增强的DRAM

   快页模式 FPM DRAM，传统的DRAM每次把一行复制到缓冲区，获取到数据后就会丢弃，尽管后一个请求是同一行的数据，也得从新在复制一次。快页模式允许对同一行使用多次。

   扩展数据输出 EDO DRAM，是快页模式的增强版。

   同步 SDRAM，常规的，FPM和EDO DRAM都是异步的，同步的比异步的会更快输出超单元的内容。

   双倍数据速率同步 DDR SDRAM， 是对同步SDRAM的一种增强。

   视频RAM VRAM，它用在图形系统的帧缓冲区中。和快页模式类似。区别是VRAM的输出是对缓冲区的整个内容进行移位得到，而且允许并行的读和写，在从缓冲区读取内容的同时，允许更新内容。

5. 非易失性存储器

   如果断电，DRAM和SRAM 都会丢失他们的信息，这是易失性。非易失性即使在断电之后依然保存着他们的信息。虽然现在的非易失性存储器既可以读也可以写，但他们整体上都被称为只读存储器（ROM）。



**2.  磁盘存储**

磁盘是由盘片构成的，每个盘片有两个盘面，每个盘面上有若干个同心圆的磁道，每个磁道被划分为一组扇区，每个扇区有相等数量的数据位。

磁盘制造商通常用术语柱面来描述多个盘片的驱动器的构造。柱面是所有盘片表面上到主轴中心距离相等的磁道集合。

磁盘用读写头来读写存储在磁性表面的位，读写头连接到一个传动臂，传动臂沿着磁盘半径移动，可以定位到任何磁道，这样的机械运动称为寻道。

对删除的访问时间主要有三个主要的部分：寻道时间，旋转时间，传送时间。比较耗费时间是寻道时间和旋转延迟。

**3.  固态硬盘**

固态硬盘（SSD）是一种基于闪存的技术。一个SSD封装由一个或多个闪存芯片和闪存翻译层组成。每个SSD有若干块，每个块有若干页。

比起旋转磁盘，SSD有很多优点，他们由半导体存储器构成，没有移动的部件，因而随机访问时间比旋转磁盘要快，能耗更低，同时也更结实。

不过也有一些缺点。首先，因为反复读写之后，闪存块会磨损，所以SSD也容易磨损。


  