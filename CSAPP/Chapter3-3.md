### Chapter 3 机器的程序级表示

#### 数组分配和访问：

对于数据类型T  A[N];

起始位置标示位Xa,这个声明有两个效果。首先，它在内存中分配一个L * N 字节的连续区域，，L是数据类型T的大小。它引入了标识符A，可  用A来作为指向数组开头的指针，这个指针的值就是Xa.可以用0 ~ N-1的整数索引来访问该数组元素，数组元素i会被存放在地址为Xa + L * i 的地方。

#### 异质的数据结构：

C语言提供了两种将不同类型的对象组合到一起创建数据类型的机制：结构，用关键字struct来声明。将多个对象集合到一个单位中；联合用关键字union来声明，允许用几种内不同的类型来引用一个对象。

**数据对齐**

 计算机系统对基本数据类型的合法地址做出了一些限制，要求某种类型对象的地址必须是某个值K（通常是2,4,8）的倍数。这种对齐限制简化了形成处理器和内存系统之间接口的硬件设计。例如，假设一个处理器总是从内存中取8个字节，则地址必须为8的倍数。如果我们能保证将所有的double类型数据的地址对齐成8的倍数，那么就可以欧诺个一个内存操作类读或则写值了，否则可能需要执行两次内存访问，因为对象可能被分放在两个8字节内存块中。

无论数据是否对齐，X86-64硬件都能正确工作。不过intel还是要建议要对齐数据以提高内存系统的性能。对齐原则则是任何K字节的基本对象的地址必须是K的倍数。